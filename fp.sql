--TABLE--
CREATE TABLE MEMBER1(
M_NO CHAR(5) PRIMARY KEY,
M_NAMA VARCHAR(100),
M_TGLLAHIR DATE,
M_ALAMAT VARCHAR(100),
M_TELP VARCHAR(15),
M_TGLDAFTAR DATE
);

CREATE TABLE KARYAWAN(
K_KODE CHAR(5) PRIMARY KEY,
C_ID INTEGER,
K_NAMA VARCHAR(100),
K_ALAMAT VARCHAR (100),
K_BAGIAN VARCHAR (20),
K_TGLMASUK DATE
);

CREATE TABLE CABANG(
C_ID INTEGER PRIMARY KEY,
C_ALAMAT VARCHAR(100),
C_TELP VARCHAR(15)
);

CREATE TABLE PROMO(
  P_ID INTEGER PRIMARY KEY,
  P_NAMA VARCHAR(20),
  P_DESKRIPSI VARCHAR (100),
  P_TGLMULAI DATE,
  P_TGLSELESAI DATE,
  P_DISKON INTEGER
);

CREATE TABLE JENIS_LAYANAN(
J_ID INTEGER PRIMARY KEY,
J_NAMA VARCHAR (100),
J_HARGA INTEGER
);

CREATE TABLE NOTA(
N_NOTA INTEGER,
N_TGLMASUK DATE,
N_TGLJADI DATE,
N_TGLAMBIL DATE,
KODE_RAK INTEGER,
N_CBGAMBIL INTEGER,
N_CBGMASUK INTEGER
);

CREATE TABLE STATUS_PEMBAYARAN(
SP_ID INTEGER PRIMARY KEY,
SP_KET INTEGER
);

CREATE TABLE STATUS_TRANSAKSI(
ST_ID INTEGER PRIMARY KEY,
ST_KET INTEGER
);

ALTER TABLE DETIL_NOTA
ADD CONSTRAINT FK_N_NOTA
FOREIGN KEY (N_NOTA) REFERENCE NOTA(N_NOTA);

ALTER TABLE DETIL_NOTA
ADD CONSTRAINT FK_J_ID
FOREIGN KEY (J_ID) REFERENCE JENIS_LAYANAN(J_ID);

ALTER TABLE DETIL_KARYAWAN
ADD CONSTRAINT FK_K_KODE
FOREIGN KEY (K_KODE) REFERENCE KARYAWAN(K_KODE);

ALTER TABLE DETIL_KARYAWAN
ADD CONSTRAINT FK_N_NOTA
FOREIGN KEY (N_NOTA) REFERENCE NOTA(N_NOTA);

ALTER TABLE NOTA
ADD CONSTRAINT FK_ST_ID 
FOREIGN KEY (ST_ID) REFERENCE STATUS_TRANSAKSI(ST_ID);

ALTER TABLE NOTA
ADD CONSTRAINT FK_SP_ID
FOREIGN KEY (SP_ID) REFERENCE STATUS_PEMBAYARAN(SP_ID);

ALTER TABLE NOTA
ADD CONSTRAINT FK_P_ID
FOREIGN KEY (P_ID) REFERENCE PROMO(P_ID);

ALTER TABLE NOTA
ADD CONSTRAINT FK_M_ID
FOREIGN KEY (M_ID) REFERENCE MEMBER1(M_ID);

ALTER TABLE NOTA
ADD CBGPROSES INTEGER;

ALTER TABLE NOTA
RENAME COLUMN CBGPROSES TO N_CBG PROSES;


--INSERT DATA CABANG--

INSERT INTO CABANG VALUES ('1', 'Keputih gang 1','081239475587');
INSERT INTO CABANG VALUES ('2', 'Kertajaya Indah Regency','081363575523');
INSERT INTO CABANG VALUES ('3', 'Gebang Lor','081212343453');
INSERT INTO CABANG VALUES ('4', 'Mulyosari Utara','0878615273281');

--INSERT DATA JENIS LAYANAN--

INSERT INTO JENIS_LAYANAN VALUES ('11', 'Cuci Kering', '5000');
INSERT INTO JENIS_LAYANAN VALUES ('12', 'Cuci Kering Setrika', '7000');
INSERT INTO JENIS_LAYANAN VALUES ('13', 'Cuci Kering Kilat', '10000');
INSERT INTO JENIS_LAYANAN VALUES ('14', 'Setrika', '3000');


--INSERT DATA KARYAWAN--

INSERT INTO KARYAWAN VALUES ('K1101', '1', 'ARDAN AMIRULLAH', 'Komplek Ampel, Surabaya', 'Cuci', '12-12-2015');
INSERT INTO KARYAWAN VALUES ('K1202', '1', 'DHEIMAS ERWIN MUHAMMAD', 'Desa Manyar, Gresik', 'Setrika', '11-12-2015');
INSERT INTO KARYAWAN VALUES ('K1303', '1', 'WAFI MAHENDRA', 'Keputih Gang Buntu No.08', 'Kasir', '12-12-2016');
INSERT INTO KARYAWAN VALUES ('K2101', '2', 'CAESAR ATENG MAHENDRA', 'Perumahan Bumi Marina Emas no.17', 'Cuci', '06-02-2015');
INSERT INTO KARYAWAN VALUES ('K2202', '2', 'ALFI EZRA', 'Gebang Wetan 1 No.12', 'Setrika', '13-10-2015');
INSERT INTO KARYAWAN VALUES ('K2303', '2', 'ICHSAN ROSIDIN', 'Keputih Perintis 1 No.28', 'Kasir', '22-04-2016');
INSERT INTO KARYAWAN VALUES ('K3101', '3', 'ADINDA MEGA AGUSTIARA', 'Perumahan Wisma Permai no.01', 'Cuci', '06-03-2016');
INSERT INTO KARYAWAN VALUES ('K3202', '3', 'ALIVIA WAHYU RAMADANTI', 'Gubeng No.11', 'Setrika', '13-10-2015');
INSERT INTO KARYAWAN VALUES ('K3303', '3', 'DARIS AN-NAHDA', 'Keputih Perintis 1 No.19', 'Kasir', '22-08-2015');
INSERT INTO KARYAWAN VALUES ('K4101', '4', 'SIHING PUSPITA', 'Perumahan Dosen Blok R no.06', 'Cuci', '06-02-2017');
INSERT INTO KARYAWAN VALUES ('K4202', '4', 'LAILATUL AJIJAH', 'Keputih Gang 3 no.02', 'Setrika', '13-10-2014');
INSERT INTO KARYAWAN VALUES ('K4303', '4', 'NOVI JESIKA ANASTASIA', 'Keputih Gang 1 no.01', 'Kasir', '30-12-2015');

--INSERT DATA MEMBER--

INSERT INTO MEMBER1 VALUES ('M001', 'ISYE PUTRI ROSELIN', '01-02-2000', 'APARTEMENT PUNCAK KERTAJAYA A762', '082156090560','P', '19-12-2016');
INSERT INTO MEMBER1 VALUES ('M002', 'DEWI SEKARINI', '06-04-1999', 'SURABAYA TENGAH', '08137284923', 'P','09-11-2015');
INSERT INTO MEMBER1 VALUES ('M003', 'DIMAS KAMURAPI', '01-02-1998', 'APARTEMENT PUNCAK KERTAJAYA A762', '0821532425346', 'L','19-12-2016');
INSERT INTO MEMBER1 VALUES ('M004', 'GHIFAROZA RAHMADIANA', '01-02-1998', 'APARTEMENT PUNCAK KERTAJAYA A762', '084363452342', 'P','19-12-2016');
INSERT INTO MEMBER1 VALUES ('M005', 'SULTANA BALQIS', '01-02-1998', 'APARTEMENT PUNCAK KERTAJAYA A762', '087835425233', 'P','19-12-2016');
INSERT INTO MEMBER1 VALUES ('M006', 'PUTRI NURUL A', '01-02-1998', 'PERUMAHAN ARAYA BLOK A NO.12A', '052343572323','P', '19-12-2016');
INSERT INTO MEMBER1 VALUES ('M007', 'ROGO JAGAD', '01-02-1998', 'APARTEMENT COSMOPOLIS A762', '0523414325342', 'L','19-12-2016');
INSERT INTO MEMBER1 VALUES ('M008', 'FARIS DIDIN', '01-02-1998', 'APARTEMENT PUNCAK KERTAJAYA A762', '0821123006574', 'L','19-12-2016');
INSERT INTO MEMBER1 VALUES ('M009', 'ARYA WINATA', '01-02-1998', 'APARTEMENT COSMOPOLIS A762', '0821563467865', 'L','19-12-2016');
INSERT INTO MEMBER1 VALUES ('M0010', 'RAHAJENG DWI PERMATASARI', '01-02-1998', 'APARTEMENT PUNCAK KERTAJAYA A762', '0811237468364', 'P','19-12-2016');
INSERT INTO MEMBER1 VALUES ('M0011', 'AGUEL SATRIA', '01-02-1998', 'APARTEMENT PUNCAK KERTAJAYA A762', '0821928752933', 'L','19-12-2016');
INSERT INTO MEMBER1 VALUES ('M0012', 'FANDY PUTRA MOHAMMAD', '01-02-1998', 'APARTEMENT PUNCAK KERTAJAYA A762', '0759873253384', 'L','19-12-2016');
INSERT INTO MEMBER1 VALUES ('M0013', 'RANI AULIA HIDAYAT', '01-02-1998', 'APARTEMENT PUNCAK KERTAJAYA A762', '08212938947875', 'P', '19-12-2016');
INSERT INTO MEMBER1 VALUES ('M0014', 'ANNGGA YUDISTHIRA', '01-02-1998', 'APARTEMENT DIAN REGENCY A762', '08152738784982', 'L','19-12-2016');
INSERT INTO MEMBER1 VALUES ('M0015', 'NELLY PRILLYANA', '01-02-1998', 'APARTEMENT PUNCAK KERTAJAYA A8623', '082156090563', 'P','19-12-2016');
INSERT INTO MEMBER1 VALUES ('M0013', 'RIJA RUSADI', '01-02-1998', 'APARTEMENT PUNCAK KERTAJAYA B1734', '081349767789', 'L','19-12-2016');